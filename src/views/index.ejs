<!DOCTYPE html>
<html lang="en">
  <%- include('partials/head') %>
  <body class="flex min-h-screen flex-col bg-gray-900 text-white">
    <%- include('partials/nav') %>

    <!-- Hero Section -->
    <div class="bg-gradient-to-r from-blue-900 to-purple-900 py-16">
      <div class="mx-auto w-full max-w-[1366px] px-4 sm:px-6 lg:px-8">
        <div class="text-center">
          <h1 class="mb-4 text-4xl font-bold md:text-6xl">Your Game Library</h1>
          <p class="mb-8 text-xl text-gray-300">
            Discover and manage your gaming collection
          </p>
          <a
            href="/games/new"
            class="inline-flex items-center rounded-lg bg-green-600 px-6 py-3 font-bold text-white transition duration-300 hover:bg-green-700"
          >
            <i class="fas fa-plus mr-2"></i>
            Add New Game
          </a>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="mx-auto w-full max-w-[1366px] px-4 py-8 sm:px-6 lg:px-8">
      <!-- Featured Game -->
      <% if (games.length > 0) { %>
      <div class="mb-12">
        <h2 class="mb-6 text-2xl font-bold text-gray-100">Featured Game</h2>
        <div class="overflow-hidden rounded-lg bg-gray-800 shadow-2xl">
          <div class="md:flex">
            <div class="bg-black p-8 md:w-1/2">
              <img
                src="<%= games[4].image %>"
                alt="<%= games[4].title %>"
                class="h-64 w-full object-contain md:h-96"
              />
            </div>
            <div class="p-8 md:w-1/2">
              <h3 class="mb-4 text-3xl font-bold text-white">
                <%= games[4].title %>
              </h3>
              <p class="mb-6 text-gray-300">
                Experience this amazing game in your collection.
              </p>
              <a
                href="/games/<%= games[4].game_id %>"
                class="inline-flex items-center rounded-lg bg-blue-600 px-6 py-3 font-bold text-white transition duration-300 hover:bg-blue-700"
                >View Details
              </a>
            </div>
          </div>
        </div>
      </div>
      <% } %>

      <!-- Games Grid -->
      <div class="mb-8">
        <div class="mb-6 flex">
          <h2 class="text-2xl font-bold text-gray-100">
            All Games (<%= games.length %>)
          </h2>
        </div>

        <% if (games.length === 0) { %>
        <div class="py-16 text-center">
          <i class="fas fa-gamepad mb-4 text-6xl text-gray-600"></i>
          <h3 class="mb-2 text-xl font-semibold text-gray-400">
            No games in your library yet
          </h3>
          <p class="mb-6 text-gray-500">
            Start building your collection by adding your first game!
          </p>
          <a
            href="/new"
            class="inline-flex items-center rounded-lg bg-green-600 px-6 py-3 font-bold text-white transition duration-300 hover:bg-green-700"
          >
            <i class="fas fa-plus mr-2"></i> Add Your First Game
          </a>
        </div>
        <% } else { %>
        <div
          class="grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"
        >
          <% games.forEach(game => { %>
          <div
            class="group flex transform justify-center overflow-hidden rounded-lg bg-gray-800 shadow-lg transition duration-300 hover:scale-105 hover:shadow-2xl"
          >
            <a
              href="/games/<%= game.game_id %>"
              class="flex w-full flex-col gap-3 p-3"
            >
              <% if (game.image !== null) { %>
              <img
                src="<%= game.image %>"
                alt="<%= game.title %>"
                class="h-48 w-full object-contain"
              />
              <% } else { %>
              <div
                class="m-auto flex min-h-48 w-full flex-1 items-center justify-center bg-gray-900"
              >
                <i class="fas fa-image text-4xl text-gray-600"></i>
              </div>
              <% } %>

              <div>
                <h3
                  class="text-center text-sm font-semibold text-white transition duration-300"
                >
                  <%= game.title %>
                </h3>
                <p class="mt-1 text-center text-xs text-gray-400">
                  <%= game.released %> â€¢ <%= game.genre || 'Undefined genre' %>
                </p>
              </div>
            </a>
          </div>
          <% }) %>
        </div>
        <% } %>
      </div>
    </div>

    <%- include('partials/footer') %>
  </body>
</html>
